{"ast":null,"code":"import { profileAPI } from \"../../api/api\";\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst ADD_POST = 'ADD-POST';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nlet initialState = {\n  profile: null,\n  status: '',\n  posts: [{\n    id: 1,\n    message: 'Hi, how are you?',\n    likesCount: 10\n  }, {\n    id: 2,\n    message: 'It\\'s my first post',\n    likesCount: 10\n  }, {\n    id: 3,\n    message: 'My second post',\n    likesCount: 10\n  }, {\n    id: 4,\n    message: 'Firth post',\n    likesCount: 10\n  }, {\n    id: 5,\n    message: 'Yo',\n    likesCount: 10\n  }],\n  toggleIsFetching: true\n};\n\nconst profileReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_USER_PROFILE:\n      return { ...state,\n        profile: action.profile\n      };\n\n    case SET_STATUS:\n      return { ...state,\n        status: action.status\n      };\n\n    case ADD_POST:\n      let newPost = {\n        id: state.posts.length + 1,\n        message: action.newPostText,\n        likesCount: 0\n      };\n      return { ...state,\n        newPostText: '',\n        posts: [...state.posts, newPost]\n      };\n\n    case TOGGLE_IS_FETCHING:\n      return { ...state,\n        isFetching: action.isFetching\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const addPost = newPostText => ({\n  type: ADD_POST,\n  newPostText\n});\nexport const toggleIsFetching = isFetching => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching\n});\nexport const getUserProfile = userId => async dispatch => {\n  dispatch(toggleIsFetching(true));\n  const responseData = await profileAPI.getUserProfile(userId);\n  dispatch(setUserProfile(responseData));\n  dispatch(toggleIsFetching(false));\n};\nexport const getUserStatus = userId => async dispatch => {\n  const responseData = await profileAPI.getUserStatus(userId);\n  dispatch(setStatus(responseData));\n};\nexport const updateStatus = status => async dispatch => {\n  const responseData = await profileAPI.updateStatus(status);\n\n  if (responseData.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\nexport default profileReducer;","map":{"version":3,"names":["profileAPI","SET_USER_PROFILE","SET_STATUS","ADD_POST","TOGGLE_IS_FETCHING","initialState","profile","status","posts","id","message","likesCount","toggleIsFetching","profileReducer","state","action","type","newPost","length","newPostText","isFetching","setUserProfile","setStatus","addPost","getUserProfile","userId","dispatch","responseData","getUserStatus","updateStatus","resultCode"],"sources":["/Users/muradgakhramanov/Desktop/MyProject/social_net/src/redux/reducers/profile-reducer.js"],"sourcesContent":["import {profileAPI} from \"../../api/api\";\n\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst ADD_POST = 'ADD-POST';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\n\nlet initialState = {\n    profile: null,\n    status: '',\n    posts: [\n        {id: 1, message: 'Hi, how are you?', likesCount: 10},\n        {id: 2, message: 'It\\'s my first post', likesCount: 10},\n        {id: 3, message: 'My second post', likesCount: 10},\n        {id: 4, message: 'Firth post', likesCount: 10},\n        {id: 5, message: 'Yo', likesCount: 10},\n    ],\n    toggleIsFetching: true,\n};\n\nconst profileReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SET_USER_PROFILE:\n            return {...state, profile: action.profile}\n\n        case SET_STATUS:\n            return {...state, status: action.status}\n\n        case ADD_POST:\n            let newPost = {\n                id: state.posts.length + 1,\n                message: action.newPostText,\n                likesCount: 0,\n            };\n            return {...state, newPostText: '', posts: [...state.posts, newPost]};\n\n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching}\n\n        default:\n            return state;\n    }\n}\n\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText})\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\n\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n\n  dispatch(toggleIsFetching(true));\n  const responseData = await profileAPI.getUserProfile(userId);\n\n  dispatch(setUserProfile(responseData));\n  dispatch(toggleIsFetching(false));\n}\nexport const getUserStatus = (userId) => async (dispatch) => {\n  const responseData = await profileAPI.getUserStatus(userId);\n  dispatch(setStatus(responseData));\n}\nexport const updateStatus = (status) => async (dispatch) => {\n\n  const responseData = await profileAPI.updateStatus(status);\n  if(responseData.resultCode === 0) {\n      dispatch(setStatus(status));\n  }\n}\n\n\nexport default profileReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}